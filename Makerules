# Rules generated from the contents of the Build files.
#
# CDDL HEADER START
#
# The contents of this file are subject to the terms of the
# Common Development and Distribution License, Version 1.0 only
# (the "License").  You may not use this file except in compliance
# with the License.
#
# You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
# or http://www.opensolaris.org/os/licensing.
# See the License for the specific language governing permissions
# and limitations under the License.
#
# When distributing Covered Code, include this CDDL HEADER in each
# file and include the License file at usr/src/OPENSOLARIS.LICENSE.
# If applicable, add the following below this CDDL HEADER, with the
# fields enclosed by brackets "[]" replaced with your own identifying
# information: Portions Copyright [yyyy] [name of copyright owner]
#
# CDDL HEADER END
#
# Copyright 2011, 2012 Oracle, Inc.  All rights reserved.
# Use is subject to license terms.

# Trigger the library-building rules.

PHONIES += build-libs libs shlibs
TARGETS += build-libs libs shlibs

$(foreach lib,$(BUILDLIBS),$(eval $(call build-lib-template,$(lib))))
build-libs: $(foreach lib,$(BUILDLIBS),$(objdir)/build-$($(lib)_TARGET).a)

$(foreach lib,$(LIBS),$(eval $(call lib-template,$(lib))))
libs: build-libs $(foreach lib,$(LIBS),$(objdir)/$($(lib)_TARGET).a)

$(foreach lib,$(SHLIBS),$(eval $(call shlib-template,$(lib))))
shlibs: build-libs $(foreach lib,$(SHLIBS),$(objdir)/$($(lib)_TARGET).so)

# Trigger the command-building rule.

PHONIES += cmds
TARGETS += cmds

$(foreach cmd,$(CMDS),$(eval $(call cmd-template,$(cmd))))

cmds: $(foreach cmd,$(CMDS),$(objdir)/$($(cmd)_TARGET))

# The trigger-building rule.  This rule is only used by check targets that do
# not force a complete build first, so it does not appear in TARGETS.
# It is otherwise identical to the comamnd-building rule, and relies on
# the rules it generates.

PHONIES += triggers

triggers: $(foreach trigger,$(TRIGGERS),$(objdir)/$($(trigger)_TARGET))
